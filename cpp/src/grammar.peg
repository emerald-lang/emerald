R"(
ROOT               <- (scope / pair_list / value_list / nested / line / comment)+

nested             <- tag_statement ~nl ~lbrace ~nl ROOT ~rbrace ~nl

scope              <- $fn< scope_fn > ~lbrace ~nl $body< ROOT > ~rbrace ~nl

line               <- (tag_statement / comment) ~nl

value_list         <- special_keyword ~nl ~lbrace ~nl literal_new_line+ ~rbrace ~nl

literal_new_line   <- inline_lit_str ~nl

pair_list          <- base_keyword ~nl ~lbrace ~nl attr_lit_newline+ ~rbrace ~nl

attr_lit_newline   <- attribute_literal+ ~nl

attribute_literal  <- attr ~space+ inline_lit_str space*

comment            <- space* '*' space* text_content

text_content       <- multiline_literal / ml_templess_lit / inline_literal

multiline_literal  <- '->' space* nl $body< (variable / escaped / !'$' .)* > '$'

ml_templess_lit    <- ('=>' / '~>') space* nl $body< (escaped / !'$' .)* > '$'

inline_literal     <- $body< (variable / escaped / !lparen !nl .)* >

inline_lit_str     <- '"' $body< (variable / escaped / !'"' .)* > '"'

escaped            <- '\\' .

tag_statement      <- tag $identifier< id_name? > $classes< class_name* > ~space* $body< text_content? > $attributes< attributes? >

id_name            <- '#' $name< ([a-zA-Z_] / '-')+ >

class_name         <- '.' $name< ([a-zA-Z_] / '-')+ >

attr_list          <- ~lparen ~nl ~lbrace ~nl attribute* ~rbrace ~nl ~rparen

attribute          <- attr ~space* inline_lit_str ~nl
)"
